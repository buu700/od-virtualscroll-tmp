{"version":3,"file":"od-virtualscroll.umd.js","sources":["../es5/service.js","../es5/virtualRow.component.js","../es5/cmd.js","../es5/enumerate.js","../es5/measurement.js","../es5/scrollItem.js","../es5/set.js","../es5/userCmd.js","../es5/virtualScroll.component.js","../es5/virtualScroll.module.js","../es5/api.js"],"sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport { Injectable } from \"@angular/core\";\nimport { ReplaySubject } from \"rxjs/ReplaySubject\";\nimport { Subject } from \"rxjs/Subject\";\nvar ScrollObservableService = (function () {\n    function ScrollObservableService() {\n        var _this = this;\n        this._scrollWin = new ReplaySubject(1);\n        this.scrollWin$ = this._scrollWin.asObservable();\n        this.emitScrollWin = function (e) { return _this._scrollWin.next(e); };\n        this._createRow = new Subject();\n        this.createRow$ = this._createRow.asObservable();\n        this.emitCreateRow = function (e) { return _this._createRow.next(e); };\n        this._removeRow = new Subject();\n        this.removeRow$ = this._removeRow.asObservable();\n        this.emitRemoveRow = function (e) { return _this._removeRow.next(e); };\n        this._shiftRow = new Subject();\n        this.shiftRow$ = this._shiftRow.asObservable();\n        this.emitShiftRow = function (e) { return _this._shiftRow.next(e); };\n        this._createItem = new Subject();\n        this.createItem$ = this._createItem.asObservable();\n        this.emitCreateItem = function (e) { return _this._createItem.next(e); };\n        this._updateItem = new Subject();\n        this.updateItem$ = this._updateItem.asObservable();\n        this.emitUpdateItem = function (e) { return _this._updateItem.next(e); };\n        this._removeItem = new Subject();\n        this.removeItem$ = this._removeItem.asObservable();\n        this.emitRemoveItem = function (e) { return _this._removeItem.next(e); };\n    }\n    ScrollObservableService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ScrollObservableService.ctorParameters = function () { return []; };\n    return ScrollObservableService;\n}());\nexport { ScrollObservableService };\nfunction ScrollObservableService_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    ScrollObservableService.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    ScrollObservableService.ctorParameters;\n    /** @type {?} */\n    ScrollObservableService.prototype._scrollWin;\n    /** @type {?} */\n    ScrollObservableService.prototype.scrollWin$;\n    /** @type {?} */\n    ScrollObservableService.prototype.emitScrollWin;\n    /** @type {?} */\n    ScrollObservableService.prototype._createRow;\n    /** @type {?} */\n    ScrollObservableService.prototype.createRow$;\n    /** @type {?} */\n    ScrollObservableService.prototype.emitCreateRow;\n    /** @type {?} */\n    ScrollObservableService.prototype._removeRow;\n    /** @type {?} */\n    ScrollObservableService.prototype.removeRow$;\n    /** @type {?} */\n    ScrollObservableService.prototype.emitRemoveRow;\n    /** @type {?} */\n    ScrollObservableService.prototype._shiftRow;\n    /** @type {?} */\n    ScrollObservableService.prototype.shiftRow$;\n    /** @type {?} */\n    ScrollObservableService.prototype.emitShiftRow;\n    /** @type {?} */\n    ScrollObservableService.prototype._createItem;\n    /** @type {?} */\n    ScrollObservableService.prototype.createItem$;\n    /** @type {?} */\n    ScrollObservableService.prototype.emitCreateItem;\n    /** @type {?} */\n    ScrollObservableService.prototype._updateItem;\n    /** @type {?} */\n    ScrollObservableService.prototype.updateItem$;\n    /** @type {?} */\n    ScrollObservableService.prototype.emitUpdateItem;\n    /** @type {?} */\n    ScrollObservableService.prototype._removeItem;\n    /** @type {?} */\n    ScrollObservableService.prototype.removeItem$;\n    /** @type {?} */\n    ScrollObservableService.prototype.emitRemoveItem;\n}\n//# sourceMappingURL=service.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, HostBinding, ViewChild, ViewContainerRef } from \"@angular/core\";\nvar VirtualRowComponent = (function () {\n    function VirtualRowComponent(_cdr) {\n        this._cdr = _cdr;\n        this._translateY = 0;\n    }\n    Object.defineProperty(VirtualRowComponent.prototype, \"getTransform\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return \"translateY(\" + this._translateY + \"px)\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} template\n     * @param {?} context\n     * @param {?=} index\n     * @return {?}\n     */\n    VirtualRowComponent.prototype.addItem = /**\n     * @param {?} template\n     * @param {?} context\n     * @param {?=} index\n     * @return {?}\n     */\n    function (template, context, index) {\n        this._cdr.markForCheck();\n        return this._viewContainer.createEmbeddedView(template, context, index);\n    };\n    /**\n     * @param {?} translateY\n     * @return {?}\n     */\n    VirtualRowComponent.prototype.setTransform = /**\n     * @param {?} translateY\n     * @return {?}\n     */\n    function (translateY) {\n        this._translateY = translateY;\n    };\n    /**\n     * @param {?} column\n     * @param {?} context\n     * @return {?}\n     */\n    VirtualRowComponent.prototype.updateItem = /**\n     * @param {?} column\n     * @param {?} context\n     * @return {?}\n     */\n    function (column, context) {\n        this._cdr.markForCheck();\n        var /** @type {?} */ viewRef = /** @type {?} */ (this._viewContainer.get(column));\n        viewRef.context.$implicit = context;\n        return viewRef;\n    };\n    /**\n     * @param {?} column\n     * @return {?}\n     */\n    VirtualRowComponent.prototype.removeItem = /**\n     * @param {?} column\n     * @return {?}\n     */\n    function (column) {\n        this._cdr.markForCheck();\n        this._viewContainer.remove(column);\n    };\n    /**\n     * @param {?} row\n     * @return {?}\n     */\n    VirtualRowComponent.prototype.updateRow = /**\n     * @param {?} row\n     * @return {?}\n     */\n    function (row) {\n        for (var /** @type {?} */ c = 0; c < this._viewContainer.length; c++) {\n            var /** @type {?} */ viewRef = /** @type {?} */ (this._viewContainer.get(c));\n            viewRef.context.row = row;\n        }\n        this._cdr.markForCheck();\n    };\n    VirtualRowComponent.decorators = [\n        { type: Component, args: [{\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    selector: 'od-virtualrow',\n                    styles: [\":host { display: block; position: absolute; }\"],\n                    template: \"<div #viewRef></div>\"\n                },] },\n    ];\n    /** @nocollapse */\n    VirtualRowComponent.ctorParameters = function () { return [\n        { type: ChangeDetectorRef, },\n    ]; };\n    VirtualRowComponent.propDecorators = {\n        \"_viewContainer\": [{ type: ViewChild, args: ['viewRef', { read: ViewContainerRef },] },],\n        \"getTransform\": [{ type: HostBinding, args: ['style.transform',] },],\n    };\n    return VirtualRowComponent;\n}());\nexport { VirtualRowComponent };\nfunction VirtualRowComponent_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    VirtualRowComponent.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    VirtualRowComponent.ctorParameters;\n    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */\n    VirtualRowComponent.propDecorators;\n    /** @type {?} */\n    VirtualRowComponent.prototype._viewContainer;\n    /** @type {?} */\n    VirtualRowComponent.prototype._translateY;\n    /** @type {?} */\n    VirtualRowComponent.prototype._cdr;\n}\n//# sourceMappingURL=virtualRow.component.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @enum {number} */\nvar CmdOption = {\n    Noop: 0,\n    CreateRow: 1,\n    ShiftRow: 2,\n    RemoveRow: 3,\n    CreateItem: 4,\n    UpdateItem: 5,\n    RemoveItem: 6,\n};\nexport { CmdOption };\nCmdOption[CmdOption.Noop] = \"Noop\";\nCmdOption[CmdOption.CreateRow] = \"CreateRow\";\nCmdOption[CmdOption.ShiftRow] = \"ShiftRow\";\nCmdOption[CmdOption.RemoveRow] = \"RemoveRow\";\nCmdOption[CmdOption.CreateItem] = \"CreateItem\";\nCmdOption[CmdOption.UpdateItem] = \"UpdateItem\";\nCmdOption[CmdOption.RemoveItem] = \"RemoveItem\";\n/**\n * @record\n */\nexport function ICmd() { }\nfunction ICmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ICmd.prototype.cmdType;\n}\n/**\n * @record\n */\nexport function IRowRenderCmd() { }\nfunction IRowRenderCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    IRowRenderCmd.prototype.virtualIndex;\n    /** @type {?} */\n    IRowRenderCmd.prototype.actualIndex;\n}\n/**\n * @record\n */\nexport function ItemRenderCmd() { }\nfunction ItemRenderCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ItemRenderCmd.prototype.columnIndex;\n    /** @type {?} */\n    ItemRenderCmd.prototype.dataIndex;\n}\nvar NoopCmd = (function () {\n    function NoopCmd() {\n        this.cmdType = CmdOption.Noop;\n    }\n    return NoopCmd;\n}());\nexport { NoopCmd };\nfunction NoopCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NoopCmd.prototype.cmdType;\n}\nvar CreateRowCmd = (function () {\n    function CreateRowCmd(virtualIndex, actualIndex, initShift) {\n        this.virtualIndex = virtualIndex;\n        this.actualIndex = actualIndex;\n        this.initShift = initShift;\n        this.cmdType = CmdOption.CreateRow;\n    }\n    return CreateRowCmd;\n}());\nexport { CreateRowCmd };\nfunction CreateRowCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    CreateRowCmd.prototype.cmdType;\n    /** @type {?} */\n    CreateRowCmd.prototype.virtualIndex;\n    /** @type {?} */\n    CreateRowCmd.prototype.actualIndex;\n    /** @type {?} */\n    CreateRowCmd.prototype.initShift;\n}\nvar RemoveRowCmd = (function () {\n    function RemoveRowCmd(virtualIndex, actualIndex) {\n        this.virtualIndex = virtualIndex;\n        this.actualIndex = actualIndex;\n        this.cmdType = CmdOption.RemoveRow;\n    }\n    return RemoveRowCmd;\n}());\nexport { RemoveRowCmd };\nfunction RemoveRowCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    RemoveRowCmd.prototype.cmdType;\n    /** @type {?} */\n    RemoveRowCmd.prototype.virtualIndex;\n    /** @type {?} */\n    RemoveRowCmd.prototype.actualIndex;\n}\nvar ShiftRowCmd = (function () {\n    function ShiftRowCmd(virtualIndex, actualIndex, shift) {\n        this.virtualIndex = virtualIndex;\n        this.actualIndex = actualIndex;\n        this.shift = shift;\n        this.cmdType = CmdOption.ShiftRow;\n    }\n    return ShiftRowCmd;\n}());\nexport { ShiftRowCmd };\nfunction ShiftRowCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ShiftRowCmd.prototype.cmdType;\n    /** @type {?} */\n    ShiftRowCmd.prototype.virtualIndex;\n    /** @type {?} */\n    ShiftRowCmd.prototype.actualIndex;\n    /** @type {?} */\n    ShiftRowCmd.prototype.shift;\n}\nvar CreateItemCmd = (function () {\n    function CreateItemCmd(virtualIndex, actualIndex, columnIndex, dataIndex) {\n        this.virtualIndex = virtualIndex;\n        this.actualIndex = actualIndex;\n        this.columnIndex = columnIndex;\n        this.dataIndex = dataIndex;\n        this.cmdType = CmdOption.CreateItem;\n    }\n    return CreateItemCmd;\n}());\nexport { CreateItemCmd };\nfunction CreateItemCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    CreateItemCmd.prototype.cmdType;\n    /** @type {?} */\n    CreateItemCmd.prototype.virtualIndex;\n    /** @type {?} */\n    CreateItemCmd.prototype.actualIndex;\n    /** @type {?} */\n    CreateItemCmd.prototype.columnIndex;\n    /** @type {?} */\n    CreateItemCmd.prototype.dataIndex;\n}\nvar UpdateItemCmd = (function () {\n    function UpdateItemCmd(virtualIndex, actualIndex, columnIndex, dataIndex) {\n        this.virtualIndex = virtualIndex;\n        this.actualIndex = actualIndex;\n        this.columnIndex = columnIndex;\n        this.dataIndex = dataIndex;\n        this.cmdType = CmdOption.UpdateItem;\n    }\n    return UpdateItemCmd;\n}());\nexport { UpdateItemCmd };\nfunction UpdateItemCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    UpdateItemCmd.prototype.cmdType;\n    /** @type {?} */\n    UpdateItemCmd.prototype.virtualIndex;\n    /** @type {?} */\n    UpdateItemCmd.prototype.actualIndex;\n    /** @type {?} */\n    UpdateItemCmd.prototype.columnIndex;\n    /** @type {?} */\n    UpdateItemCmd.prototype.dataIndex;\n}\nvar RemoveItemCmd = (function () {\n    function RemoveItemCmd(virtualIndex, actualIndex, columnIndex, dataIndex) {\n        this.virtualIndex = virtualIndex;\n        this.actualIndex = actualIndex;\n        this.columnIndex = columnIndex;\n        this.dataIndex = dataIndex;\n        this.cmdType = CmdOption.RemoveItem;\n    }\n    return RemoveItemCmd;\n}());\nexport { RemoveItemCmd };\nfunction RemoveItemCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    RemoveItemCmd.prototype.cmdType;\n    /** @type {?} */\n    RemoveItemCmd.prototype.virtualIndex;\n    /** @type {?} */\n    RemoveItemCmd.prototype.actualIndex;\n    /** @type {?} */\n    RemoveItemCmd.prototype.columnIndex;\n    /** @type {?} */\n    RemoveItemCmd.prototype.dataIndex;\n}\n//# sourceMappingURL=cmd.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @param {?} start\n * @param {?} end\n * @param {?} numActualRows\n * @param {?} iteratee\n * @return {?}\n */\nexport function forRowsIn(start, end, numActualRows, iteratee) {\n    for (var /** @type {?} */ r = start; r <= end; r++) {\n        iteratee(r, r % numActualRows);\n    }\n}\n/**\n * @param {?} start\n * @param {?} end\n * @param {?} row\n * @param {?} numColumns\n * @param {?} numTotalItems\n * @param {?} iteratee\n * @return {?}\n */\nexport function forColumnsIn(start, end, row, numColumns, numTotalItems, iteratee) {\n    var /** @type {?} */ getDataIndex = function (c) { return row * numColumns + c; };\n    for (var /** @type {?} */ c = start, /** @type {?} */ dataIndx = getDataIndex(c); c <= end && dataIndx < numTotalItems; c++, dataIndx = getDataIndex(c)) {\n        iteratee(c, dataIndx);\n    }\n}\n/**\n * @param {?} start\n * @param {?} end\n * @param {?} row\n * @param {?} numColumns\n * @param {?} prevRow\n * @param {?} numPrevColumns\n * @param {?} iteratee\n * @return {?}\n */\nexport function forColumnsInWithPrev(start, end, row, numColumns, prevRow, numPrevColumns, iteratee) {\n    for (var /** @type {?} */ c = start; c <= end; c++) {\n        iteratee(c, row * numColumns + c, prevRow * numPrevColumns + c);\n    }\n}\n//# sourceMappingURL=enumerate.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @param {?} data\n * @param {?} rect\n * @param {?} options\n * @return {?}\n */\nexport function calcMeasure(data, rect, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var _this = this;\n        var itemHeight, _a, minItemHeight, numPossibleRows, numPossibleColumns;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (typeof options.itemHeight === 'function' && options.numLimitColumns !== 1) {\n                        throw new Error('numLimitColumns must equal 1 when using variable item height.');\n                    }\n                    if (!(typeof options.itemHeight === 'number')) return [3 /*break*/, 1];\n                    _a = options.itemHeight;\n                    return [3 /*break*/, 3];\n                case 1: return [4 /*yield*/, (typeof options.itemHeight !== 'function' ? options.itemHeight : Promise.all(data.map(function (item, i) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n                        return [2 /*return*/, (/** @type {?} */ (options.itemHeight))(item, i)];\n                    }); }); })))];\n                case 2:\n                    _a = _b.sent();\n                    _b.label = 3;\n                case 3:\n                    itemHeight = _a;\n                    minItemHeight = typeof itemHeight === 'number' ? itemHeight : itemHeight.length === 0 ? 0 : itemHeight.reduce(function (a, b) { return Math.min(a, b); });\n                    numPossibleRows = Math.ceil(rect.height / minItemHeight);\n                    numPossibleColumns = options.itemWidth !== undefined ? Math.floor(rect.width / options.itemWidth) : 0;\n                    return [2 /*return*/, {\n                            containerHeight: rect.height,\n                            containerWidth: rect.width,\n                            itemHeight: itemHeight,\n                            itemWidth: options.itemWidth,\n                            minItemHeight: minItemHeight,\n                            numPossibleColumns: numPossibleColumns,\n                            numPossibleItems: numPossibleRows * numPossibleColumns,\n                            numPossibleRows: numPossibleRows,\n                        }];\n            }\n        });\n    });\n}\nvar /** @type {?} */ clamp = function (min, max, value) { return Math.min(max, Math.max(min, value)); };\nvar ɵ0 = clamp;\n/**\n * @param {?} scrollTop\n * @param {?} measure\n * @param {?} numItems\n * @param {?} dataTimestamp\n * @param {?} options\n * @return {?}\n */\nexport function calcScrollWindow(scrollTop, measure, numItems, dataTimestamp, options) {\n    var /** @type {?} */ numVirtualItems = numItems;\n    var /** @type {?} */ requestedColumns = options.numLimitColumns !== undefined ? options.numLimitColumns : measure.numPossibleColumns;\n    var /** @type {?} */ numActualColumns = Math.min(numVirtualItems, requestedColumns);\n    var /** @type {?} */ numVirtualRows = Math.ceil(numVirtualItems / Math.max(1, numActualColumns));\n    var /** @type {?} */ virtualHeight = typeof measure.itemHeight === 'number' ? numVirtualRows * measure.itemHeight : measure.itemHeight.reduce(function (a, b) { return a + b; }, 0);\n    var /** @type {?} */ numAdditionalRows = options.numAdditionalRows !== undefined ? options.numAdditionalRows : 1;\n    var /** @type {?} */ requestedRows = measure.numPossibleRows + numAdditionalRows;\n    var /** @type {?} */ numActualRows = numActualColumns > 0 ? Math.min(requestedRows, numVirtualRows) : 0;\n    var /** @type {?} */ visibleStartRow = typeof measure.itemHeight === 'number' ? undefined : Math.max(0, measure.itemHeight.reduce(function (a, b, i) {\n        if (a >= 0) {\n            return a;\n        }\n        var /** @type {?} */ sum = a + b;\n        return sum >= 0 ? i : sum;\n    }, -scrollTop));\n    var /** @type {?} */ actualHeight = typeof measure.itemHeight === 'number' ? numActualRows * measure.itemHeight : typeof visibleStartRow === 'number' ? measure.itemHeight.slice(visibleStartRow).reduce(function (a, b) { return a + b; }, 0) : 0;\n    var /** @type {?} */ visibleEndRow = typeof measure.itemHeight === 'number' ? (numActualColumns > 0 && numActualRows > 0 ? clamp(0, numVirtualRows - 1, Math.floor((scrollTop + actualHeight) / measure.minItemHeight) - 1) : -1) : typeof visibleStartRow === 'number' ? (visibleStartRow + numActualRows - 1) : 0;\n    var /** @type {?} */ rowShifts = typeof measure.itemHeight === 'number' ? undefined : measure.itemHeight.reduce(function (arr, n) { return arr.concat(arr[arr.length - 1] + n); }, [0]).slice(0, -1);\n    return {\n        actualHeight: actualHeight,\n        containerHeight: measure.containerHeight,\n        containerWidth: measure.containerWidth,\n        dataTimestamp: dataTimestamp,\n        itemHeight: measure.itemHeight,\n        itemWidth: measure.itemWidth,\n        numActualColumns: numActualColumns,\n        numActualItems: Math.min(numActualRows * numActualColumns, numVirtualItems),\n        numActualRows: numActualRows,\n        numAdditionalRows: numAdditionalRows,\n        numVirtualItems: numVirtualItems,\n        numVirtualRows: numVirtualRows,\n        rowShifts: rowShifts,\n        scrollPercentage: clamp(0, 100, scrollTop / (virtualHeight - measure.containerHeight)),\n        scrollTop: scrollTop,\n        virtualHeight: virtualHeight,\n        visibleEndRow: visibleEndRow,\n        visibleStartRow: typeof visibleStartRow === 'number' ? visibleStartRow : visibleEndRow !== -1 ? Math.max(0, visibleEndRow - numActualRows + 1) : -1\n    };\n}\n/**\n * @param {?} scrollWin\n * @return {?}\n */\nexport function getMaxIndex(scrollWin) {\n    return scrollWin.visibleEndRow * scrollWin.numActualColumns + scrollWin.numActualColumns - 1;\n}\nexport { ɵ0 };\n//# sourceMappingURL=measurement.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar ScrollItem = (function () {\n    function ScrollItem($implicit, row, column) {\n        this.$implicit = $implicit;\n        this.row = row;\n        this.column = column;\n    }\n    return ScrollItem;\n}());\nexport { ScrollItem };\nfunction ScrollItem_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ScrollItem.prototype.$implicit;\n    /** @type {?} */\n    ScrollItem.prototype.row;\n    /** @type {?} */\n    ScrollItem.prototype.column;\n}\n//# sourceMappingURL=scrollItem.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @param {?} obj\n * @return {?}\n */\nexport function isEmpty(obj) {\n    return Object.keys(obj).length === 0;\n}\n/**\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nexport function intersection(a, b) {\n    var /** @type {?} */ result = {};\n    for (var /** @type {?} */ key in a) {\n        if (b[key] !== undefined) {\n            result[key] = { left: a[key], right: b[key] };\n        }\n    }\n    return result;\n}\n/**\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nexport function difference(a, b) {\n    var /** @type {?} */ result = {};\n    for (var /** @type {?} */ key in a) {\n        if (b[key] === undefined) {\n            result[key] = a[key];\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=set.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @enum {number} */\nvar UserCmdOption = {\n    SetScrollTop: 0,\n    FocusRow: 1,\n    FocusItem: 2,\n};\nexport { UserCmdOption };\nUserCmdOption[UserCmdOption.SetScrollTop] = \"SetScrollTop\";\nUserCmdOption[UserCmdOption.FocusRow] = \"FocusRow\";\nUserCmdOption[UserCmdOption.FocusItem] = \"FocusItem\";\n/**\n * @record\n */\nexport function IUserCmd() { }\nfunction IUserCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    IUserCmd.prototype.cmdType;\n}\nvar SetScrollTopCmd = (function () {\n    function SetScrollTopCmd(value) {\n        this.value = value;\n        this.cmdType = UserCmdOption.SetScrollTop;\n    }\n    return SetScrollTopCmd;\n}());\nexport { SetScrollTopCmd };\nfunction SetScrollTopCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    SetScrollTopCmd.prototype.cmdType;\n    /** @type {?} */\n    SetScrollTopCmd.prototype.value;\n}\nvar FocusRowCmd = (function () {\n    function FocusRowCmd(rowIndex) {\n        this.rowIndex = rowIndex;\n        this.cmdType = UserCmdOption.FocusRow;\n    }\n    return FocusRowCmd;\n}());\nexport { FocusRowCmd };\nfunction FocusRowCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    FocusRowCmd.prototype.cmdType;\n    /** @type {?} */\n    FocusRowCmd.prototype.rowIndex;\n}\nvar FocusItemCmd = (function () {\n    function FocusItemCmd(itemIndex) {\n        this.itemIndex = itemIndex;\n        this.cmdType = UserCmdOption.FocusItem;\n    }\n    return FocusItemCmd;\n}());\nexport { FocusItemCmd };\nfunction FocusItemCmd_tsickle_Closure_declarations() {\n    /** @type {?} */\n    FocusItemCmd.prototype.cmdType;\n    /** @type {?} */\n    FocusItemCmd.prototype.itemIndex;\n}\n//# sourceMappingURL=userCmd.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ComponentFactoryResolver, ContentChild, ElementRef, Input, TemplateRef, ViewChild, ViewContainerRef } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { animationFrame as animationScheduler } from \"rxjs/scheduler/animationFrame\";\nimport { combineLatest } from \"rxjs/observable/combineLatest\";\nimport { concat } from \"rxjs/observable/concat\";\nimport { empty } from \"rxjs/observable/empty\";\nimport { from } from \"rxjs/observable/from\";\nimport { fromEvent } from \"rxjs/observable/fromEvent\";\nimport { merge } from \"rxjs/observable/merge\";\nimport { of } from \"rxjs/observable/of\";\nimport { concatMap } from \"rxjs/operators/concatMap\";\nimport { debounceTime } from \"rxjs/operators/debounceTime\";\nimport { distinctUntilChanged } from \"rxjs/operators/distinctUntilChanged\";\nimport { filter } from \"rxjs/operators/filter\";\nimport { map } from \"rxjs/operators/map\";\nimport { mergeMap } from \"rxjs/operators/mergeMap\";\nimport { pairwise } from \"rxjs/operators/pairwise\";\nimport { publish } from \"rxjs/operators/publish\";\nimport { scan } from \"rxjs/operators/scan\";\nimport { startWith } from \"rxjs/operators/startWith\";\nimport { withLatestFrom } from \"rxjs/operators/withLatestFrom\";\nimport { CmdOption, CreateItemCmd, CreateRowCmd, NoopCmd, RemoveItemCmd, RemoveRowCmd, ShiftRowCmd, UpdateItemCmd } from \"./cmd\";\nimport { forColumnsIn, forColumnsInWithPrev, forRowsIn } from \"./enumerate\";\nimport { calcMeasure, calcScrollWindow, getMaxIndex } from \"./measurement\";\nimport { ScrollItem } from \"./scrollItem\";\nimport { ScrollObservableService } from \"./service\";\nimport { difference, intersection, isEmpty } from \"./set\";\nimport { SetScrollTopCmd, UserCmdOption } from \"./userCmd\";\nimport { VirtualRowComponent } from \"./virtualRow.component\";\nvar VirtualScrollComponent = (function () {\n    function VirtualScrollComponent(_elem, _cdr, _componentFactoryResolver, _obsService) {\n        this._elem = _elem;\n        this._cdr = _cdr;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._obsService = _obsService;\n        this.vsData = empty();\n        this.vsOptions = empty();\n        this.vsResize = empty();\n        this.vsUserCmd = empty();\n        this.vsDebounceTime = 0;\n        this.vsEqualsFunc = function (prevIndex, curIndex) { return prevIndex === curIndex; };\n        this.height = 0;\n        this.width = '0px';\n        this._rowFactory = this._componentFactoryResolver.resolveComponentFactory(VirtualRowComponent);\n        this._subs = [];\n    }\n    /**\n     * @template T\n     * @param {?} source\n     * @return {?}\n     */\n    VirtualScrollComponent.prototype.publish = /**\n     * @template T\n     * @param {?} source\n     * @return {?}\n     */\n    function (source) {\n        return publish()(source);\n    };\n    /**\n     * @return {?}\n     */\n    VirtualScrollComponent.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ getContainerRect = function () { return _this._elem.nativeElement.getBoundingClientRect(); };\n        var /** @type {?} */ getScrollTop = function () { return _this._elem.nativeElement.scrollTop; };\n        var /** @type {?} */ setScrollTop = function (scrollTop) { _this._elem.nativeElement.scrollTop = scrollTop; };\n        var /** @type {?} */ initData = [];\n        var /** @type {?} */ data$ = this.publish(this.vsData.pipe(startWith(initData)));\n        var /** @type {?} */ defaultOptions = { itemWidth: 100, itemHeight: 100, numAdditionalRows: 1 };\n        var /** @type {?} */ options$ = this.publish(this.vsOptions.pipe(startWith(defaultOptions)));\n        var /** @type {?} */ rect$ = merge(fromEvent(window, 'resize'), this.vsResize).pipe(debounceTime(this.vsDebounceTime, animationScheduler), map(function () { return getContainerRect(); }), startWith(getContainerRect()), map(function (_a) {\n            var width = _a.width, height = _a.height;\n            return ({ width: width, height: height });\n        }));\n        var /** @type {?} */ scrollTop$ = fromEvent(this._elem.nativeElement, 'scroll').pipe(debounceTime(this.vsDebounceTime, animationScheduler), map(function () { return getScrollTop(); }), startWith(0));\n        var /** @type {?} */ measure$ = this.publish(combineLatest(data$, rect$, options$).pipe(mergeMap(function (_a) {\n            var data = _a[0], rect = _a[1], options = _a[2];\n            return __awaiter(_this, void 0, void 0, function () {\n                var measurement;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, calcMeasure(data, rect, options)];\n                        case 1:\n                            measurement = _a.sent();\n                            return [2 /*return*/, {\n                                    dataTimestamp: (new Date()).getTime(),\n                                    dataLength: data.length,\n                                    measurement: measurement\n                                }];\n                    }\n                });\n            });\n        })));\n        var /** @type {?} */ scrollWin$ = this.publish(combineLatest(scrollTop$, measure$, options$).pipe(map(function (_a) {\n            var scrollTop = _a[0], _b = _a[1], measurement = _b.measurement, dataTimestamp = _b.dataTimestamp, dataLength = _b.dataLength, options = _a[2];\n            return calcScrollWindow(scrollTop, measurement, dataLength, dataTimestamp, options);\n        }), distinctUntilChanged(function (prevWin, curWin) {\n            return prevWin.visibleStartRow === curWin.visibleStartRow &&\n                prevWin.visibleEndRow === curWin.visibleEndRow &&\n                prevWin.numActualColumns === curWin.numActualColumns &&\n                prevWin.numVirtualItems === curWin.numVirtualItems &&\n                prevWin.dataTimestamp === curWin.dataTimestamp;\n        })));\n        var /** @type {?} */ dScrollWin$ = scrollWin$.pipe(pairwise());\n        var /** @type {?} */ renderCmd$ = this.publish(dScrollWin$.pipe(concatMap(function (_a) {\n            var prevWin = _a[0], curWin = _a[1];\n            var /** @type {?} */ rowsDiffCmd$ = of(new NoopCmd());\n            var /** @type {?} */ rowsUpdateCmd$ = of(new NoopCmd());\n            var /** @type {?} */ prevIndexMap = {};\n            var /** @type {?} */ curIndexMap = {};\n            // abs: prevent iterating when prevWin has -1 -> -1\n            forRowsIn(Math.abs(prevWin.visibleStartRow), prevWin.visibleEndRow, prevWin.numActualRows, function (row, index) {\n                prevIndexMap[index] = row;\n            });\n            // abs: prevent iterating when curWin has -1 -> -1\n            forRowsIn(Math.abs(curWin.visibleStartRow), curWin.visibleEndRow, curWin.numActualRows, function (row, index) {\n                curIndexMap[index] = row;\n            });\n            var /** @type {?} */ removeRowsMap = difference(prevIndexMap, curIndexMap);\n            var /** @type {?} */ createRowsMap = difference(curIndexMap, prevIndexMap);\n            if (!isEmpty(removeRowsMap)) {\n                var /** @type {?} */ removeRowCmds = [];\n                var /** @type {?} */ removeItemCmds_1 = [];\n                var _loop_1 = function (key) {\n                    var /** @type {?} */ rowIndex = parseInt(key, 10);\n                    var /** @type {?} */ row = removeRowsMap[key];\n                    removeRowCmds.push(new RemoveRowCmd(row, rowIndex));\n                    forColumnsIn(0, prevWin.numActualColumns - 1, row, prevWin.numActualColumns, prevWin.numVirtualItems, function (c, dataIndex) {\n                        removeItemCmds_1.push(new RemoveItemCmd(row, rowIndex, c, dataIndex));\n                    });\n                };\n                for (var /** @type {?} */ key in removeRowsMap) {\n                    _loop_1(key);\n                }\n                rowsDiffCmd$ = concat(from(removeItemCmds_1.reverse()), from(removeRowCmds));\n            }\n            else if (!isEmpty(createRowsMap)) {\n                var /** @type {?} */ createRowCmds = [];\n                var /** @type {?} */ createItemCmds_1 = [];\n                var _loop_2 = function (key) {\n                    var /** @type {?} */ rowIndex = parseInt(key, 10);\n                    var /** @type {?} */ row = createRowsMap[key];\n                    createRowCmds.push(new CreateRowCmd(row, rowIndex, curWin.rowShifts !== undefined ? curWin.rowShifts[row] : typeof curWin.itemHeight === 'number' ? row * curWin.itemHeight : 0));\n                    forColumnsIn(0, curWin.numActualColumns - 1, row, curWin.numActualColumns, curWin.numVirtualItems, function (c, dataIndex) {\n                        createItemCmds_1.push(new CreateItemCmd(row, rowIndex, c, dataIndex));\n                    });\n                };\n                for (var /** @type {?} */ key in createRowsMap) {\n                    _loop_2(key);\n                }\n                rowsDiffCmd$ = concat(from(createRowCmds), from(createItemCmds_1));\n            }\n            var /** @type {?} */ existingRows = intersection(prevIndexMap, curIndexMap);\n            if (!isEmpty(existingRows)) {\n                var /** @type {?} */ shiftRowCmds = [];\n                var /** @type {?} */ createItemCmds_2 = [];\n                var /** @type {?} */ removeItemCmds_2 = [];\n                var /** @type {?} */ updateItemCmds_1 = [];\n                var /** @type {?} */ columnDiffCreateItemCmds_1 = [];\n                var /** @type {?} */ columnDiffRemoveItemCmds_1 = [];\n                var /** @type {?} */ columnsDiffStart = Math.min(prevWin.numActualColumns, curWin.numActualColumns);\n                var /** @type {?} */ numColumns = curWin.numActualColumns - prevWin.numActualColumns;\n                var _loop_3 = function (key) {\n                    var /** @type {?} */ rowIndex = parseInt(key, 10);\n                    var /** @type {?} */ prevRow = existingRows[key].left;\n                    var /** @type {?} */ row = existingRows[key].right;\n                    if (row !== prevRow) {\n                        shiftRowCmds.push(new ShiftRowCmd(row, rowIndex, curWin.rowShifts !== undefined ? curWin.rowShifts[row] : typeof curWin.itemHeight === 'number' ? row * curWin.itemHeight : 0));\n                    }\n                    if (row !== prevRow || numColumns !== 0 || prevWin.numVirtualItems <= getMaxIndex(prevWin) || curWin.numVirtualItems <= getMaxIndex(curWin) || prevWin.dataTimestamp !== curWin.dataTimestamp) {\n                        forColumnsInWithPrev(0, columnsDiffStart - 1, row, curWin.numActualColumns, prevRow, prevWin.numActualColumns, function (c, dataIndex, prevDataIndex) {\n                            if (dataIndex >= curWin.numVirtualItems && prevDataIndex < prevWin.numVirtualItems) {\n                                removeItemCmds_2.push(new RemoveItemCmd(row, rowIndex, c, prevDataIndex));\n                            }\n                            else if (dataIndex < curWin.numVirtualItems && prevDataIndex >= prevWin.numVirtualItems) {\n                                createItemCmds_2.push(new CreateItemCmd(row, rowIndex, c, dataIndex));\n                            }\n                            else if (dataIndex < curWin.numVirtualItems && prevDataIndex < prevWin.numVirtualItems && !_this.vsEqualsFunc(prevDataIndex, dataIndex)) {\n                                updateItemCmds_1.push(new UpdateItemCmd(row, rowIndex, c, dataIndex));\n                            }\n                        });\n                    }\n                    if (numColumns > 0) {\n                        forColumnsIn(columnsDiffStart, curWin.numActualColumns - 1, row, curWin.numActualColumns, curWin.numVirtualItems, function (c, dataIndex) {\n                            columnDiffCreateItemCmds_1.push(new CreateItemCmd(row, rowIndex, c, dataIndex));\n                        });\n                    }\n                    else if (numColumns < 0) {\n                        forColumnsIn(columnsDiffStart, prevWin.numActualColumns - 1, prevRow, prevWin.numActualColumns, prevWin.numVirtualItems, function (c, dataIndex) {\n                            columnDiffRemoveItemCmds_1.push(new RemoveItemCmd(prevRow, rowIndex, c, dataIndex));\n                        });\n                    }\n                };\n                for (var /** @type {?} */ key in existingRows) {\n                    _loop_3(key);\n                }\n                rowsUpdateCmd$ = concat(merge(from(removeItemCmds_2.reverse()), from(createItemCmds_2), from(updateItemCmds_1), from(shiftRowCmds)), merge(from(columnDiffRemoveItemCmds_1.reverse()), from(columnDiffCreateItemCmds_1)));\n            }\n            return merge(rowsDiffCmd$, rowsUpdateCmd$);\n        })));\n        var /** @type {?} */ updateScrollWinFunc$ = scrollWin$.pipe(map(function (scrollWindow) {\n            return function (state) {\n                state.scrollWindow = scrollWindow;\n                _this._obsService.emitScrollWin([scrollWindow]);\n                state.needsCheck = true;\n                return state;\n            };\n        }));\n        var /** @type {?} */ createRowFunc$ = renderCmd$.pipe(filter(function (cmd) { return cmd.cmdType === CmdOption.CreateRow; }), map(function (cmd) {\n            return function (state) {\n                var /** @type {?} */ newRow = _this._viewContainer.createComponent(_this._rowFactory);\n                newRow.instance.setTransform(cmd.initShift);\n                state.rows[cmd.actualIndex] = newRow;\n                _this._obsService.emitCreateRow([cmd, newRow]);\n                state.needsCheck = false;\n                return state;\n            };\n        }));\n        var /** @type {?} */ removeRowFunc$ = renderCmd$.pipe(filter(function (cmd) { return cmd.cmdType === CmdOption.RemoveRow; }), map(function (cmd) {\n            return function (state) {\n                var /** @type {?} */ rowComp = state.rows[cmd.actualIndex];\n                rowComp.destroy();\n                delete state.rows[cmd.actualIndex];\n                _this._obsService.emitRemoveRow([cmd, rowComp]);\n                state.needsCheck = false;\n                return state;\n            };\n        }));\n        var /** @type {?} */ shiftRowFunc$ = renderCmd$.pipe(filter(function (cmd) { return cmd.cmdType === CmdOption.ShiftRow; }), map(function (cmd) {\n            return function (state) {\n                var /** @type {?} */ shift = /** @type {?} */ (cmd);\n                var /** @type {?} */ row = state.rows[shift.actualIndex];\n                row.instance.updateRow(shift.virtualIndex);\n                row.instance.setTransform(shift.shift);\n                _this._obsService.emitShiftRow([shift, row]);\n                state.needsCheck = false;\n                return state;\n            };\n        }));\n        var /** @type {?} */ createItemFunc$ = renderCmd$.pipe(filter(function (cmd) { return cmd.cmdType === CmdOption.CreateItem; }), withLatestFrom(data$), map(function (_a) {\n            var cmd = _a[0], data = _a[1];\n            return function (state) {\n                var /** @type {?} */ createItem = /** @type {?} */ (cmd);\n                var /** @type {?} */ item = new ScrollItem(data[createItem.dataIndex], createItem.virtualIndex, createItem.columnIndex);\n                var /** @type {?} */ viewRef = state.rows[createItem.actualIndex].instance.addItem(_this._templateRef, item);\n                _this._obsService.emitCreateItem([createItem, item, viewRef]);\n                state.needsCheck = false;\n                return state;\n            };\n        }));\n        var /** @type {?} */ updateItemFunc$ = renderCmd$.pipe(filter(function (cmd) { return cmd.cmdType === CmdOption.UpdateItem; }), withLatestFrom(data$), map(function (_a) {\n            var cmd = _a[0], data = _a[1];\n            return function (state) {\n                var /** @type {?} */ update = /** @type {?} */ (cmd);\n                var /** @type {?} */ item = data[update.dataIndex];\n                var /** @type {?} */ viewRef = state.rows[update.actualIndex].instance.updateItem(update.columnIndex, item);\n                _this._obsService.emitUpdateItem([update, item, viewRef]);\n                state.needsCheck = false;\n                return state;\n            };\n        }));\n        var /** @type {?} */ removeItemFunc$ = renderCmd$.pipe(filter(function (cmd) { return cmd.cmdType === CmdOption.RemoveItem; }), map(function (cmd) {\n            return function (state) {\n                var /** @type {?} */ comp = state.rows[cmd.actualIndex];\n                comp.instance.removeItem(cmd.columnIndex);\n                _this._obsService.emitRemoveItem([cmd]);\n                state.needsCheck = false;\n                return state;\n            };\n        }));\n        var /** @type {?} */ userCmd$ = this.publish(this.vsUserCmd);\n        var /** @type {?} */ userSetScrollTop$ = userCmd$.pipe(filter(function (cmd) { return cmd.cmdType === UserCmdOption.SetScrollTop; }));\n        var /** @type {?} */ focusRowSetScrollTop$ = userCmd$.pipe(filter(function (cmd) { return cmd.cmdType === UserCmdOption.FocusRow; }), withLatestFrom(scrollWin$), map(function (_a) {\n            var cmd = _a[0], scrollWin = _a[1];\n            var /** @type {?} */ focusRow = /** @type {?} */ (cmd);\n            return new SetScrollTopCmd(scrollWin.rowShifts !== undefined ? scrollWin.rowShifts[focusRow.rowIndex] : typeof scrollWin.itemHeight === 'number' ? (focusRow.rowIndex * scrollWin.itemHeight) : 0);\n        }));\n        var /** @type {?} */ focusItemSetScrollTop$ = userCmd$.pipe(filter(function (cmd) { return cmd.cmdType === UserCmdOption.FocusItem; }), withLatestFrom(scrollWin$), map(function (_a) {\n            var cmd = _a[0], scrollWin = _a[1];\n            var /** @type {?} */ focusItem = /** @type {?} */ (cmd);\n            return new SetScrollTopCmd(scrollWin.rowShifts !== undefined ? scrollWin.rowShifts[focusItem.itemIndex] : typeof scrollWin.itemHeight === 'number' ? (Math.floor(focusItem.itemIndex / scrollWin.numActualColumns) * scrollWin.itemHeight) : 0);\n        }));\n        var /** @type {?} */ setScrollTopFunc$ = merge(userSetScrollTop$, focusRowSetScrollTop$, focusItemSetScrollTop$).pipe(map(function (cmd) {\n            return function (state) {\n                setScrollTop(cmd.value);\n                state.needsCheck = false;\n                return state;\n            };\n        }));\n        var /** @type {?} */ scanFunc = function (state, changeFn) { return changeFn(state); };\n        // Update store\n        var /** @type {?} */ main$ = merge(createRowFunc$, removeRowFunc$, shiftRowFunc$, createItemFunc$, removeItemFunc$, updateItemFunc$, updateScrollWinFunc$, setScrollTopFunc$)\n            .pipe(scan(scanFunc, { measurement: null, scrollWindow: null, rows: {}, needsCheck: false }));\n        this._subs.push(main$.pipe(filter(function (state) { return state.needsCheck && state.scrollWindow !== null; })).subscribe(function (state) {\n            _this.height = state.scrollWindow.virtualHeight;\n            if (state.scrollWindow.itemWidth === undefined) {\n                _this.width = '100%';\n            }\n            else {\n                _this.width = state.scrollWindow.itemWidth * state.scrollWindow.numActualColumns + \"px\";\n            }\n            _this._cdr.markForCheck();\n        }));\n        // Order is important\n        this._subs.push(userCmd$.connect());\n        this._subs.push(renderCmd$.connect());\n        this._subs.push(scrollWin$.connect());\n        this._subs.push(measure$.connect());\n        this._subs.push(options$.connect());\n        this._subs.push(data$.connect());\n    };\n    /**\n     * @return {?}\n     */\n    VirtualScrollComponent.prototype.ngOnDestroy = /**\n     * @return {?}\n     */\n    function () {\n        this._subs.forEach(function (sub) { return sub.unsubscribe(); });\n    };\n    VirtualScrollComponent.decorators = [\n        { type: Component, args: [{\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    selector: 'od-virtualscroll',\n                    styles: [\"\\n    :host {\\n      display: block;\\n      height: 100%;\\n      overflow-y: scroll;\\n    }\\n\\n    .od-scroll-container {\\n      position: relative;\\n      width: 100%;\\n    }\\n  \"],\n                    template: \"\\n    <div class=\\\"od-scroll-container\\\" [style.width]=\\\"width\\\" [style.height.px]=\\\"height\\\">\\n      <div #viewRef><div>\\n    </div>\",\n                },] },\n    ];\n    /** @nocollapse */\n    VirtualScrollComponent.ctorParameters = function () { return [\n        { type: ElementRef, },\n        { type: ChangeDetectorRef, },\n        { type: ComponentFactoryResolver, },\n        { type: ScrollObservableService, },\n    ]; };\n    VirtualScrollComponent.propDecorators = {\n        \"_templateRef\": [{ type: ContentChild, args: [TemplateRef,] },],\n        \"_viewContainer\": [{ type: ViewChild, args: ['viewRef', { read: ViewContainerRef },] },],\n        \"vsData\": [{ type: Input },],\n        \"vsOptions\": [{ type: Input },],\n        \"vsResize\": [{ type: Input },],\n        \"vsUserCmd\": [{ type: Input },],\n        \"vsDebounceTime\": [{ type: Input },],\n        \"vsEqualsFunc\": [{ type: Input },],\n    };\n    return VirtualScrollComponent;\n}());\nexport { VirtualScrollComponent };\nfunction VirtualScrollComponent_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    VirtualScrollComponent.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    VirtualScrollComponent.ctorParameters;\n    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */\n    VirtualScrollComponent.propDecorators;\n    /** @type {?} */\n    VirtualScrollComponent.prototype._templateRef;\n    /** @type {?} */\n    VirtualScrollComponent.prototype._viewContainer;\n    /** @type {?} */\n    VirtualScrollComponent.prototype.vsData;\n    /** @type {?} */\n    VirtualScrollComponent.prototype.vsOptions;\n    /** @type {?} */\n    VirtualScrollComponent.prototype.vsResize;\n    /** @type {?} */\n    VirtualScrollComponent.prototype.vsUserCmd;\n    /** @type {?} */\n    VirtualScrollComponent.prototype.vsDebounceTime;\n    /** @type {?} */\n    VirtualScrollComponent.prototype.vsEqualsFunc;\n    /** @type {?} */\n    VirtualScrollComponent.prototype.height;\n    /** @type {?} */\n    VirtualScrollComponent.prototype.width;\n    /** @type {?} */\n    VirtualScrollComponent.prototype._rowFactory;\n    /** @type {?} */\n    VirtualScrollComponent.prototype._subs;\n    /** @type {?} */\n    VirtualScrollComponent.prototype._elem;\n    /** @type {?} */\n    VirtualScrollComponent.prototype._cdr;\n    /** @type {?} */\n    VirtualScrollComponent.prototype._componentFactoryResolver;\n    /** @type {?} */\n    VirtualScrollComponent.prototype._obsService;\n}\n//# sourceMappingURL=virtualScroll.component.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { ScrollObservableService } from \"./service\";\nimport { VirtualRowComponent } from \"./virtualRow.component\";\nimport { VirtualScrollComponent } from \"./virtualScroll.component\";\nvar VirtualScrollModule = (function () {\n    function VirtualScrollModule() {\n    }\n    VirtualScrollModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [VirtualRowComponent, VirtualScrollComponent],\n                    entryComponents: [VirtualRowComponent],\n                    exports: [VirtualScrollComponent],\n                    imports: [CommonModule],\n                    providers: [ScrollObservableService],\n                },] },\n    ];\n    /** @nocollapse */\n    VirtualScrollModule.ctorParameters = function () { return []; };\n    return VirtualScrollModule;\n}());\nexport { VirtualScrollModule };\nfunction VirtualScrollModule_tsickle_Closure_declarations() {\n    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */\n    VirtualScrollModule.decorators;\n    /**\n     * @nocollapse\n     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}\n     */\n    VirtualScrollModule.ctorParameters;\n}\n//# sourceMappingURL=virtualScroll.module.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nexport { VirtualScrollModule } from \"./virtualScroll.module\";\nexport { ScrollObservableService } from \"./service\";\nexport { VirtualRowComponent } from \"./virtualRow.component\";\nexport { ScrollItem } from \"./scrollItem\";\nexport { CreateRowCmd, RemoveRowCmd, ShiftRowCmd, CreateItemCmd, UpdateItemCmd, RemoveItemCmd, CmdOption } from \"./cmd\";\nexport { FocusItemCmd, FocusRowCmd, SetScrollTopCmd, UserCmdOption } from \"./userCmd\";\n//# sourceMappingURL=api.js.map"],"names":["ReplaySubject","Subject","Injectable","Component","ChangeDetectionStrategy","ChangeDetectorRef","ViewChild","ViewContainerRef","HostBinding","__awaiter","this","__generator","empty","publish","startWith","merge","fromEvent","debounceTime","animationScheduler","map","combineLatest","mergeMap","distinctUntilChanged","pairwise","concatMap","of","concat","from","filter","withLatestFrom","scan","ElementRef","ComponentFactoryResolver","ContentChild","TemplateRef","Input","NgModule","CommonModule"],"mappings":";;;;;;AAAA;;;;AAIA,AACA,AACA,AACA,IAAI,uBAAuB,IAAI,YAAY;IACvC,SAAS,uBAAuB,GAAG;QAC/B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,IAAIA,gCAAa,CAAC,CAAC,CAAC,CAAC;QACvC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QACjD,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACvE,IAAI,CAAC,UAAU,GAAG,IAAIC,oBAAO,EAAE,CAAC;QAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QACjD,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACvE,IAAI,CAAC,UAAU,GAAG,IAAIA,oBAAO,EAAE,CAAC;QAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QACjD,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACvE,IAAI,CAAC,SAAS,GAAG,IAAIA,oBAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAC/C,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACrE,IAAI,CAAC,WAAW,GAAG,IAAIA,oBAAO,EAAE,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;QACnD,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACzE,IAAI,CAAC,WAAW,GAAG,IAAIA,oBAAO,EAAE,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;QACnD,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACzE,IAAI,CAAC,WAAW,GAAG,IAAIA,oBAAO,EAAE,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;QACnD,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;KAC5E;IACD,uBAAuB,CAAC,UAAU,GAAG;QACjC,EAAE,IAAI,EAAEC,wBAAU,EAAE;KACvB,CAAC;;IAEF,uBAAuB,CAAC,cAAc,GAAG,YAAY,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IACpE,OAAO,uBAAuB,CAAC;CAClC,EAAE,CAAC,CAAC,AACL,AACA,AAkDC,AACD;;AC3FA;;;;AAIA,AACA,IAAI,mBAAmB,IAAI,YAAY;IACnC,SAAS,mBAAmB,CAAC,IAAI,EAAE;QAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;KACxB;IACD,MAAM,CAAC,cAAc,CAAC,mBAAmB,CAAC,SAAS,EAAE,cAAc,EAAE;QACjE,GAAG;;;QAGH,YAAY;YACR,OAAO,aAAa,GAAG,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SACnD;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;;;;;;;IAOH,mBAAmB,CAAC,SAAS,CAAC,OAAO;;;;;;IAMrC,UAAU,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;QAChC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACzB,OAAO,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;KAC3E,CAAC;;;;;IAKF,mBAAmB,CAAC,SAAS,CAAC,YAAY;;;;IAI1C,UAAU,UAAU,EAAE;QAClB,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;KACjC,CAAC;;;;;;IAMF,mBAAmB,CAAC,SAAS,CAAC,UAAU;;;;;IAKxC,UAAU,MAAM,EAAE,OAAO,EAAE;QACvB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACzB,qBAAqB,OAAO,qBAAqB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QAClF,OAAO,CAAC,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC;QACpC,OAAO,OAAO,CAAC;KAClB,CAAC;;;;;IAKF,mBAAmB,CAAC,SAAS,CAAC,UAAU;;;;IAIxC,UAAU,MAAM,EAAE;QACd,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KACtC,CAAC;;;;;IAKF,mBAAmB,CAAC,SAAS,CAAC,SAAS;;;;IAIvC,UAAU,GAAG,EAAE;QACX,KAAK,qBAAqB,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAClE,qBAAqB,OAAO,qBAAqB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7E,OAAO,CAAC,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC;SAC7B;QACD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;KAC5B,CAAC;IACF,mBAAmB,CAAC,UAAU,GAAG;QAC7B,EAAE,IAAI,EAAEC,uBAAS,EAAE,IAAI,EAAE,CAAC;oBACd,eAAe,EAAEC,qCAAuB,CAAC,MAAM;oBAC/C,QAAQ,EAAE,eAAe;oBACzB,MAAM,EAAE,CAAC,+CAA+C,CAAC;oBACzD,QAAQ,EAAE,sBAAsB;iBACnC,EAAE,EAAE;KAChB,CAAC;;IAEF,mBAAmB,CAAC,cAAc,GAAG,YAAY,EAAE,OAAO;QACtD,EAAE,IAAI,EAAEC,+BAAiB,GAAG;KAC/B,CAAC,EAAE,CAAC;IACL,mBAAmB,CAAC,cAAc,GAAG;QACjC,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAEC,uBAAS,EAAE,IAAI,EAAE,CAAC,SAAS,EAAE,EAAE,IAAI,EAAEC,8BAAgB,EAAE,EAAE,EAAE,EAAE;QACxF,cAAc,EAAE,CAAC,EAAE,IAAI,EAAEC,yBAAW,EAAE,IAAI,EAAE,CAAC,iBAAiB,EAAE,EAAE,EAAE;KACvE,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC,AACL,AACA,AAgBC,AACD;;AC9HA;;;;;AAKA,IAAI,SAAS,GAAG;IACZ,IAAI,EAAE,CAAC;IACP,SAAS,EAAE,CAAC;IACZ,QAAQ,EAAE,CAAC;IACX,SAAS,EAAE,CAAC;IACZ,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;IACb,UAAU,EAAE,CAAC;CAChB,CAAC;AACF,AACA,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;AACnC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,WAAW,CAAC;AAC7C,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC;AAC3C,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,WAAW,CAAC;AAC7C,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,YAAY,CAAC;AAC/C,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,YAAY,CAAC;AAC/C,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,YAAY,CAAC;;;;AAI/C,AAAO,AAAmB;AAC1B,AAIA;;;AAGA,AAAO,AAA4B;AACnC,AAMA;;;AAGA,AAAO,AAA4B;AACnC,AAMA,IAAI,OAAO,IAAI,YAAY;IACvB,SAAS,OAAO,GAAG;QACf,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC;KACjC;IACD,OAAO,OAAO,CAAC;CAClB,EAAE,CAAC,CAAC;AACL,AACA,AAIA,IAAI,YAAY,IAAI,YAAY;IAC5B,SAAS,YAAY,CAAC,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE;QACxD,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC;KACtC;IACD,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,AACA,AAUA,IAAI,YAAY,IAAI,YAAY;IAC5B,SAAS,YAAY,CAAC,YAAY,EAAE,WAAW,EAAE;QAC7C,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC;KACtC;IACD,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC;AACL,AACA,AAQA,IAAI,WAAW,IAAI,YAAY;IAC3B,SAAS,WAAW,CAAC,YAAY,EAAE,WAAW,EAAE,KAAK,EAAE;QACnD,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,QAAQ,CAAC;KACrC;IACD,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC,CAAC;AACL,AACA,AAUA,IAAI,aAAa,IAAI,YAAY;IAC7B,SAAS,aAAa,CAAC,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE;QACtE,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,UAAU,CAAC;KACvC;IACD,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,AACA,AAYA,IAAI,aAAa,IAAI,YAAY;IAC7B,SAAS,aAAa,CAAC,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE;QACtE,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,UAAU,CAAC;KACvC;IACD,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,AACA,AAYA,IAAI,aAAa,IAAI,YAAY;IAC7B,SAAS,aAAa,CAAC,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE;QACtE,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,UAAU,CAAC;KACvC;IACD,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC,AACL,AACA,AAWC,AACD;;AC3LA;;;;;;;;;;;AAWA,AAAO,SAAS,SAAS,CAAC,KAAK,EAAE,GAAG,EAAE,aAAa,EAAE,QAAQ,EAAE;IAC3D,KAAK,qBAAqB,CAAC,GAAG,KAAK,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,EAAE;QAChD,QAAQ,CAAC,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,CAAC;KAClC;CACJ;;;;;;;;;;AAUD,AAAO,SAAS,YAAY,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,aAAa,EAAE,QAAQ,EAAE;IAC/E,qBAAqB,YAAY,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,GAAG,GAAG,UAAU,GAAG,CAAC,CAAC,EAAE,CAAC;IAClF,KAAK,qBAAqB,CAAC,GAAG,KAAK,mBAAmB,QAAQ,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,GAAG,IAAI,QAAQ,GAAG,aAAa,EAAE,CAAC,EAAE,EAAE,QAAQ,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE;QACrJ,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;KACzB;CACJ;;;;;;;;;;;AAWD,AAAO,SAAS,oBAAoB,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE;IACjG,KAAK,qBAAqB,CAAC,GAAG,KAAK,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,EAAE;QAChD,QAAQ,CAAC,CAAC,EAAE,GAAG,GAAG,UAAU,GAAG,CAAC,EAAE,OAAO,GAAG,cAAc,GAAG,CAAC,CAAC,CAAC;KACnE;CACJ,AACD;;AC9CA,IAAIC,WAAS,GAAG,CAACC,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC3F,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC9F,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;QAC/I,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;KACzE,CAAC,CAAC;CACN,CAAC;AACF,IAAIC,aAAW,GAAG,CAACD,SAAI,IAAIA,SAAI,CAAC,WAAW,KAAK,UAAU,OAAO,EAAE,IAAI,EAAE;IACrE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzJ,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IAClE,SAAS,IAAI,CAAC,EAAE,EAAE;QACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;QAC9D,OAAO,CAAC,EAAE,IAAI;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACnH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;gBAC9B,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACxD,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;gBACjD,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;gBACjD;oBACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;oBACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;oBACnE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;aAC9B;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SAC9B,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;KACpF;CACJ,CAAC;;;;;;;;;;;AAWF,AAAO,SAAS,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE;IAC7C,OAAOD,WAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,UAAU,EAAE,EAAE,EAAE,aAAa,EAAE,eAAe,EAAE,kBAAkB,CAAC;QACvE,OAAOE,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;YACnC,QAAQ,EAAE,CAAC,KAAK;gBACZ,KAAK,CAAC;oBACF,IAAI,OAAO,OAAO,CAAC,UAAU,KAAK,UAAU,IAAI,OAAO,CAAC,eAAe,KAAK,CAAC,EAAE;wBAC3E,MAAM,IAAI,KAAK,CAAC,+DAA+D,CAAC,CAAC;qBACpF;oBACD,IAAI,EAAE,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBACvE,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC;oBACxB,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBAC5B,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,aAAa,OAAO,OAAO,CAAC,UAAU,KAAK,UAAU,GAAG,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,CAAC,EAAE,EAAE,OAAOF,WAAS,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY,EAAE,OAAOE,aAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;wBAC7N,OAAO,CAAC,CAAC,aAAa,mBAAmB,OAAO,CAAC,UAAU,GAAG,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;qBAC3E,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;gBAClB,KAAK,CAAC;oBACF,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;oBACf,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;gBACjB,KAAK,CAAC;oBACF,UAAU,GAAG,EAAE,CAAC;oBAChB,aAAa,GAAG,OAAO,UAAU,KAAK,QAAQ,GAAG,UAAU,GAAG,UAAU,CAAC,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;oBAC1J,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,CAAC;oBACzD,kBAAkB,GAAG,OAAO,CAAC,SAAS,KAAK,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;oBACtG,OAAO,CAAC,CAAC,aAAa;4BACd,eAAe,EAAE,IAAI,CAAC,MAAM;4BAC5B,cAAc,EAAE,IAAI,CAAC,KAAK;4BAC1B,UAAU,EAAE,UAAU;4BACtB,SAAS,EAAE,OAAO,CAAC,SAAS;4BAC5B,aAAa,EAAE,aAAa;4BAC5B,kBAAkB,EAAE,kBAAkB;4BACtC,gBAAgB,EAAE,eAAe,GAAG,kBAAkB;4BACtD,eAAe,EAAE,eAAe;yBACnC,CAAC,CAAC;aACd;SACJ,CAAC,CAAC;KACN,CAAC,CAAC;CACN;AACD,IAAqB,KAAK,GAAG,UAAU,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;AACxG,AACA;;;;;;;;AAQA,AAAO,SAAS,gBAAgB,CAAC,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,OAAO,EAAE;IACnF,qBAAqB,eAAe,GAAG,QAAQ,CAAC;IAChD,qBAAqB,gBAAgB,GAAG,OAAO,CAAC,eAAe,KAAK,SAAS,GAAG,OAAO,CAAC,eAAe,GAAG,OAAO,CAAC,kBAAkB,CAAC;IACrI,qBAAqB,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,gBAAgB,CAAC,CAAC;IACpF,qBAAqB,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,gBAAgB,CAAC,CAAC,CAAC;IACjG,qBAAqB,aAAa,GAAG,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,GAAG,cAAc,GAAG,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IACpL,qBAAqB,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,KAAK,SAAS,GAAG,OAAO,CAAC,iBAAiB,GAAG,CAAC,CAAC;IACjH,qBAAqB,aAAa,GAAG,OAAO,CAAC,eAAe,GAAG,iBAAiB,CAAC;IACjF,qBAAqB,aAAa,GAAG,gBAAgB,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,cAAc,CAAC,GAAG,CAAC,CAAC;IACxG,qBAAqB,eAAe,GAAG,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,GAAG,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;QACjJ,IAAI,CAAC,IAAI,CAAC,EAAE;YACR,OAAO,CAAC,CAAC;SACZ;QACD,qBAAqB,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;QACjC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;KAC7B,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IAChB,qBAAqB,YAAY,GAAG,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,GAAG,aAAa,GAAG,OAAO,CAAC,UAAU,GAAG,OAAO,eAAe,KAAK,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;IACnP,qBAAqB,aAAa,GAAG,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,IAAI,gBAAgB,GAAG,CAAC,IAAI,aAAa,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,cAAc,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,YAAY,IAAI,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,OAAO,eAAe,KAAK,QAAQ,IAAI,eAAe,GAAG,aAAa,GAAG,CAAC,IAAI,CAAC,CAAC;IACpT,qBAAqB,SAAS,GAAG,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,GAAG,SAAS,GAAG,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,CAAC,EAAE,EAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACrM,OAAO;QACH,YAAY,EAAE,YAAY;QAC1B,eAAe,EAAE,OAAO,CAAC,eAAe;QACxC,cAAc,EAAE,OAAO,CAAC,cAAc;QACtC,aAAa,EAAE,aAAa;QAC5B,UAAU,EAAE,OAAO,CAAC,UAAU;QAC9B,SAAS,EAAE,OAAO,CAAC,SAAS;QAC5B,gBAAgB,EAAE,gBAAgB;QAClC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,gBAAgB,EAAE,eAAe,CAAC;QAC3E,aAAa,EAAE,aAAa;QAC5B,iBAAiB,EAAE,iBAAiB;QACpC,eAAe,EAAE,eAAe;QAChC,cAAc,EAAE,cAAc;QAC9B,SAAS,EAAE,SAAS;QACpB,gBAAgB,EAAE,KAAK,CAAC,CAAC,EAAE,GAAG,EAAE,SAAS,IAAI,aAAa,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;QACtF,SAAS,EAAE,SAAS;QACpB,aAAa,EAAE,aAAa;QAC5B,aAAa,EAAE,aAAa;QAC5B,eAAe,EAAE,OAAO,eAAe,KAAK,QAAQ,GAAG,eAAe,GAAG,aAAa,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,aAAa,GAAG,aAAa,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;KACtJ,CAAC;CACL;;;;;AAKD,AAAO,SAAS,WAAW,CAAC,SAAS,EAAE;IACnC,OAAO,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC,gBAAgB,GAAG,SAAS,CAAC,gBAAgB,GAAG,CAAC,CAAC;CAChG,AACD,AAAc,AACd;;AC7IA;;;;AAIA,IAAI,UAAU,IAAI,YAAY;IAC1B,SAAS,UAAU,CAAC,SAAS,EAAE,GAAG,EAAE,MAAM,EAAE;QACxC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB;IACD,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC,AACL,AACA,AAOC,AACD;;ACrBA;;;;;;;;AAQA,AAAO,SAAS,OAAO,CAAC,GAAG,EAAE;IACzB,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;CACxC;;;;;;AAMD,AAAO,SAAS,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE;IAC/B,qBAAqB,MAAM,GAAG,EAAE,CAAC;IACjC,KAAK,qBAAqB,GAAG,IAAI,CAAC,EAAE;QAChC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;YACtB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;SACjD;KACJ;IACD,OAAO,MAAM,CAAC;CACjB;;;;;;AAMD,AAAO,SAAS,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,qBAAqB,MAAM,GAAG,EAAE,CAAC;IACjC,KAAK,qBAAqB,GAAG,IAAI,CAAC,EAAE;QAChC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;YACtB,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;SACxB;KACJ;IACD,OAAO,MAAM,CAAC;CACjB,AACD;;ACvCA;;;;;AAKA,IAAI,aAAa,GAAG;IAChB,YAAY,EAAE,CAAC;IACf,QAAQ,EAAE,CAAC;IACX,SAAS,EAAE,CAAC;CACf,CAAC;AACF,AACA,aAAa,CAAC,aAAa,CAAC,YAAY,CAAC,GAAG,cAAc,CAAC;AAC3D,aAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC;AACnD,aAAa,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,WAAW,CAAC;;;;AAIrD,AAAO,AAAuB;AAC9B,AAIA,IAAI,eAAe,IAAI,YAAY;IAC/B,SAAS,eAAe,CAAC,KAAK,EAAE;QAC5B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,aAAa,CAAC,YAAY,CAAC;KAC7C;IACD,OAAO,eAAe,CAAC;CAC1B,EAAE,CAAC,CAAC;AACL,AACA,AAMA,IAAI,WAAW,IAAI,YAAY;IAC3B,SAAS,WAAW,CAAC,QAAQ,EAAE;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,aAAa,CAAC,QAAQ,CAAC;KACzC;IACD,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC,CAAC;AACL,AACA,AAMA,IAAI,YAAY,IAAI,YAAY;IAC5B,SAAS,YAAY,CAAC,SAAS,EAAE;QAC7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,aAAa,CAAC,SAAS,CAAC;KAC1C;IACD,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC,AACL,AACA,AAKC,AACD;;AChEA,IAAI,SAAS,GAAG,CAACD,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IACrF,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;QACvD,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC3F,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;QAC9F,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;QAC/I,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;KACzE,CAAC,CAAC;CACN,CAAC;AACF,IAAI,WAAW,GAAG,CAACA,SAAI,IAAIA,SAAI,CAAC,WAAW,KAAK,UAAU,OAAO,EAAE,IAAI,EAAE;IACrE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzJ,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IAClE,SAAS,IAAI,CAAC,EAAE,EAAE;QACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;QAC9D,OAAO,CAAC,EAAE,IAAI;YACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACnH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACT,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;gBAC9B,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACxD,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;gBACjD,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;gBACjD;oBACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oBACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;oBACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;oBACnE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;oBACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;aAC9B;YACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;SAC9B,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;KACpF;CACJ,CAAC;;;;;AAKF,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,IAAI,sBAAsB,IAAI,YAAY;IACtC,SAAS,sBAAsB,CAAC,KAAK,EAAE,IAAI,EAAE,yBAAyB,EAAE,WAAW,EAAE;QACjF,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,yBAAyB,GAAG,yBAAyB,CAAC;QAC3D,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,GAAGE,2BAAK,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,GAAGA,2BAAK,EAAE,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAGA,2BAAK,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,GAAGA,2BAAK,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,UAAU,SAAS,EAAE,QAAQ,EAAE,EAAE,OAAO,SAAS,KAAK,QAAQ,CAAC,EAAE,CAAC;QACtF,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,yBAAyB,CAAC,uBAAuB,CAAC,mBAAmB,CAAC,CAAC;QAC/F,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;KACnB;;;;;;IAMD,sBAAsB,CAAC,SAAS,CAAC,OAAO;;;;;IAKxC,UAAU,MAAM,EAAE;QACd,OAAOC,8BAAO,EAAE,CAAC,MAAM,CAAC,CAAC;KAC5B,CAAC;;;;IAIF,sBAAsB,CAAC,SAAS,CAAC,QAAQ;;;IAGzC,YAAY;QACR,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,qBAAqB,gBAAgB,GAAG,YAAY,EAAE,OAAO,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,EAAE,CAAC;QAClH,qBAAqB,YAAY,GAAG,YAAY,EAAE,OAAO,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,CAAC;QAChG,qBAAqB,YAAY,GAAG,UAAU,SAAS,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC,EAAE,CAAC;QAC9G,qBAAqB,QAAQ,GAAG,EAAE,CAAC;QACnC,qBAAqB,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAACC,kCAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACjF,qBAAqB,cAAc,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,UAAU,EAAE,GAAG,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAAC;QAChG,qBAAqB,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAACA,kCAAS,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QAC7F,qBAAqB,KAAK,GAAGC,2BAAK,CAACC,mCAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAACC,wCAAY,CAAC,IAAI,CAAC,cAAc,EAAEC,4CAAkB,CAAC,EAAEC,sBAAG,CAAC,YAAY,EAAE,OAAO,gBAAgB,EAAE,CAAC,EAAE,CAAC,EAAEL,kCAAS,CAAC,gBAAgB,EAAE,CAAC,EAAEK,sBAAG,CAAC,UAAU,EAAE,EAAE;YACzO,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;YACzC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE;SAC7C,CAAC,CAAC,CAAC;QACJ,qBAAqB,UAAU,GAAGH,mCAAS,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC,IAAI,CAACC,wCAAY,CAAC,IAAI,CAAC,cAAc,EAAEC,4CAAkB,CAAC,EAAEC,sBAAG,CAAC,YAAY,EAAE,OAAO,YAAY,EAAE,CAAC,EAAE,CAAC,EAAEL,kCAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACvM,qBAAqB,QAAQ,GAAG,IAAI,CAAC,OAAO,CAACM,2CAAa,CAAC,KAAK,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,IAAI,CAACC,gCAAQ,CAAC,UAAU,EAAE,EAAE;YAC3G,IAAI,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAChD,OAAO,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;gBAChD,IAAI,WAAW,CAAC;gBAChB,OAAO,WAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;oBACnC,QAAQ,EAAE,CAAC,KAAK;wBACZ,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,YAAY,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;wBAC/D,KAAK,CAAC;4BACF,WAAW,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;4BACxB,OAAO,CAAC,CAAC,aAAa;oCACd,aAAa,EAAE,CAAC,IAAI,IAAI,EAAE,EAAE,OAAO,EAAE;oCACrC,UAAU,EAAE,IAAI,CAAC,MAAM;oCACvB,WAAW,EAAE,WAAW;iCAC3B,CAAC,CAAC;qBACd;iBACJ,CAAC,CAAC;aACN,CAAC,CAAC;SACN,CAAC,CAAC,CAAC,CAAC;QACL,qBAAqB,UAAU,GAAG,IAAI,CAAC,OAAO,CAACD,2CAAa,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,IAAI,CAACD,sBAAG,CAAC,UAAU,EAAE,EAAE;YAChH,IAAI,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,WAAW,GAAG,EAAE,CAAC,WAAW,EAAE,aAAa,GAAG,EAAE,CAAC,aAAa,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,EAAE,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC/I,OAAO,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC;SACvF,CAAC,EAAEG,wDAAoB,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;YAChD,OAAO,OAAO,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;gBACrD,OAAO,CAAC,aAAa,KAAK,MAAM,CAAC,aAAa;gBAC9C,OAAO,CAAC,gBAAgB,KAAK,MAAM,CAAC,gBAAgB;gBACpD,OAAO,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe;gBAClD,OAAO,CAAC,aAAa,KAAK,MAAM,CAAC,aAAa,CAAC;SACtD,CAAC,CAAC,CAAC,CAAC;QACL,qBAAqB,WAAW,GAAG,UAAU,CAAC,IAAI,CAACC,gCAAQ,EAAE,CAAC,CAAC;QAC/D,qBAAqB,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAACC,kCAAS,CAAC,UAAU,EAAE,EAAE;YACpF,IAAI,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACpC,qBAAqB,YAAY,GAAGC,qBAAE,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;YACtD,qBAAqB,cAAc,GAAGA,qBAAE,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC;YACxD,qBAAqB,YAAY,GAAG,EAAE,CAAC;YACvC,qBAAqB,WAAW,GAAG,EAAE,CAAC;;YAEtC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,aAAa,EAAE,UAAU,GAAG,EAAE,KAAK,EAAE;gBAC7G,YAAY,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;aAC7B,CAAC,CAAC;;YAEH,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,MAAM,CAAC,aAAa,EAAE,MAAM,CAAC,aAAa,EAAE,UAAU,GAAG,EAAE,KAAK,EAAE;gBAC1G,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;aAC5B,CAAC,CAAC;YACH,qBAAqB,aAAa,GAAG,UAAU,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;YAC3E,qBAAqB,aAAa,GAAG,UAAU,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;YAC3E,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;gBACzB,qBAAqB,aAAa,GAAG,EAAE,CAAC;gBACxC,qBAAqB,gBAAgB,GAAG,EAAE,CAAC;gBAC3C,IAAI,OAAO,GAAG,UAAU,GAAG,EAAE;oBACzB,qBAAqB,QAAQ,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;oBAClD,qBAAqB,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;oBAC9C,aAAa,CAAC,IAAI,CAAC,IAAI,YAAY,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC;oBACpD,YAAY,CAAC,CAAC,EAAE,OAAO,CAAC,gBAAgB,GAAG,CAAC,EAAE,GAAG,EAAE,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,eAAe,EAAE,UAAU,CAAC,EAAE,SAAS,EAAE;wBAC1H,gBAAgB,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;qBACzE,CAAC,CAAC;iBACN,CAAC;gBACF,KAAK,qBAAqB,GAAG,IAAI,aAAa,EAAE;oBAC5C,OAAO,CAAC,GAAG,CAAC,CAAC;iBAChB;gBACD,YAAY,GAAGC,6BAAM,CAACC,yBAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,EAAEA,yBAAI,CAAC,aAAa,CAAC,CAAC,CAAC;aAChF;iBACI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;gBAC9B,qBAAqB,aAAa,GAAG,EAAE,CAAC;gBACxC,qBAAqB,gBAAgB,GAAG,EAAE,CAAC;gBAC3C,IAAI,OAAO,GAAG,UAAU,GAAG,EAAE;oBACzB,qBAAqB,QAAQ,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;oBAClD,qBAAqB,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;oBAC9C,aAAa,CAAC,IAAI,CAAC,IAAI,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,CAAC,SAAS,KAAK,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,OAAO,MAAM,CAAC,UAAU,KAAK,QAAQ,GAAG,GAAG,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;oBAClL,YAAY,CAAC,CAAC,EAAE,MAAM,CAAC,gBAAgB,GAAG,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,gBAAgB,EAAE,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC,EAAE,SAAS,EAAE;wBACvH,gBAAgB,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;qBACzE,CAAC,CAAC;iBACN,CAAC;gBACF,KAAK,qBAAqB,GAAG,IAAI,aAAa,EAAE;oBAC5C,OAAO,CAAC,GAAG,CAAC,CAAC;iBAChB;gBACD,YAAY,GAAGD,6BAAM,CAACC,yBAAI,CAAC,aAAa,CAAC,EAAEA,yBAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;aACtE;YACD,qBAAqB,YAAY,GAAG,YAAY,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;YAC5E,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;gBACxB,qBAAqB,YAAY,GAAG,EAAE,CAAC;gBACvC,qBAAqB,gBAAgB,GAAG,EAAE,CAAC;gBAC3C,qBAAqB,gBAAgB,GAAG,EAAE,CAAC;gBAC3C,qBAAqB,gBAAgB,GAAG,EAAE,CAAC;gBAC3C,qBAAqB,0BAA0B,GAAG,EAAE,CAAC;gBACrD,qBAAqB,0BAA0B,GAAG,EAAE,CAAC;gBACrD,qBAAqB,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,gBAAgB,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC;gBACpG,qBAAqB,UAAU,GAAG,MAAM,CAAC,gBAAgB,GAAG,OAAO,CAAC,gBAAgB,CAAC;gBACrF,IAAI,OAAO,GAAG,UAAU,GAAG,EAAE;oBACzB,qBAAqB,QAAQ,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;oBAClD,qBAAqB,OAAO,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACtD,qBAAqB,GAAG,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;oBACnD,IAAI,GAAG,KAAK,OAAO,EAAE;wBACjB,YAAY,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,CAAC,SAAS,KAAK,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,OAAO,MAAM,CAAC,UAAU,KAAK,QAAQ,GAAG,GAAG,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;qBACnL;oBACD,IAAI,GAAG,KAAK,OAAO,IAAI,UAAU,KAAK,CAAC,IAAI,OAAO,CAAC,eAAe,IAAI,WAAW,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,eAAe,IAAI,WAAW,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,aAAa,KAAK,MAAM,CAAC,aAAa,EAAE;wBAC3L,oBAAoB,CAAC,CAAC,EAAE,gBAAgB,GAAG,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,gBAAgB,EAAE,OAAO,EAAE,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,EAAE,SAAS,EAAE,aAAa,EAAE;4BAClJ,IAAI,SAAS,IAAI,MAAM,CAAC,eAAe,IAAI,aAAa,GAAG,OAAO,CAAC,eAAe,EAAE;gCAChF,gBAAgB,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC,CAAC;6BAC7E;iCACI,IAAI,SAAS,GAAG,MAAM,CAAC,eAAe,IAAI,aAAa,IAAI,OAAO,CAAC,eAAe,EAAE;gCACrF,gBAAgB,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;6BACzE;iCACI,IAAI,SAAS,GAAG,MAAM,CAAC,eAAe,IAAI,aAAa,GAAG,OAAO,CAAC,eAAe,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,SAAS,CAAC,EAAE;gCACrI,gBAAgB,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;6BACzE;yBACJ,CAAC,CAAC;qBACN;oBACD,IAAI,UAAU,GAAG,CAAC,EAAE;wBAChB,YAAY,CAAC,gBAAgB,EAAE,MAAM,CAAC,gBAAgB,GAAG,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,gBAAgB,EAAE,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC,EAAE,SAAS,EAAE;4BACtI,0BAA0B,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;yBACnF,CAAC,CAAC;qBACN;yBACI,IAAI,UAAU,GAAG,CAAC,EAAE;wBACrB,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC,gBAAgB,GAAG,CAAC,EAAE,OAAO,EAAE,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,eAAe,EAAE,UAAU,CAAC,EAAE,SAAS,EAAE;4BAC7I,0BAA0B,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,OAAO,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;yBACvF,CAAC,CAAC;qBACN;iBACJ,CAAC;gBACF,KAAK,qBAAqB,GAAG,IAAI,YAAY,EAAE;oBAC3C,OAAO,CAAC,GAAG,CAAC,CAAC;iBAChB;gBACD,cAAc,GAAGD,6BAAM,CAACX,2BAAK,CAACY,yBAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,EAAEA,yBAAI,CAAC,gBAAgB,CAAC,EAAEA,yBAAI,CAAC,gBAAgB,CAAC,EAAEA,yBAAI,CAAC,YAAY,CAAC,CAAC,EAAEZ,2BAAK,CAACY,yBAAI,CAAC,0BAA0B,CAAC,OAAO,EAAE,CAAC,EAAEA,yBAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC;aAC7N;YACD,OAAOZ,2BAAK,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;SAC9C,CAAC,CAAC,CAAC,CAAC;QACL,qBAAqB,oBAAoB,GAAG,UAAU,CAAC,IAAI,CAACI,sBAAG,CAAC,UAAU,YAAY,EAAE;YACpF,OAAO,UAAU,KAAK,EAAE;gBACpB,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;gBAClC,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBAChD,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;gBACxB,OAAO,KAAK,CAAC;aAChB,CAAC;SACL,CAAC,CAAC,CAAC;QACJ,qBAAqB,cAAc,GAAG,UAAU,CAAC,IAAI,CAACS,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,EAAET,sBAAG,CAAC,UAAU,GAAG,EAAE;YAC7I,OAAO,UAAU,KAAK,EAAE;gBACpB,qBAAqB,MAAM,GAAG,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBACtF,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBAC5C,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,MAAM,CAAC;gBACrC,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;gBAC/C,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,OAAO,KAAK,CAAC;aAChB,CAAC;SACL,CAAC,CAAC,CAAC;QACJ,qBAAqB,cAAc,GAAG,UAAU,CAAC,IAAI,CAACS,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,EAAET,sBAAG,CAAC,UAAU,GAAG,EAAE;YAC7I,OAAO,UAAU,KAAK,EAAE;gBACpB,qBAAqB,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBAC3D,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACnC,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC;gBAChD,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,OAAO,KAAK,CAAC;aAChB,CAAC;SACL,CAAC,CAAC,CAAC;QACJ,qBAAqB,aAAa,GAAG,UAAU,CAAC,IAAI,CAACS,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAET,sBAAG,CAAC,UAAU,GAAG,EAAE;YAC3I,OAAO,UAAU,KAAK,EAAE;gBACpB,qBAAqB,KAAK,qBAAqB,GAAG,CAAC,CAAC;gBACpD,qBAAqB,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBACzD,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;gBAC3C,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACvC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;gBAC7C,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,OAAO,KAAK,CAAC;aAChB,CAAC;SACL,CAAC,CAAC,CAAC;QACJ,qBAAqB,eAAe,GAAG,UAAU,CAAC,IAAI,CAACS,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,EAAEC,4CAAc,CAAC,KAAK,CAAC,EAAEV,sBAAG,CAAC,UAAU,EAAE,EAAE;YACrK,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9B,OAAO,UAAU,KAAK,EAAE;gBACpB,qBAAqB,UAAU,qBAAqB,GAAG,CAAC,CAAC;gBACzD,qBAAqB,IAAI,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,UAAU,CAAC,YAAY,EAAE,UAAU,CAAC,WAAW,CAAC,CAAC;gBACxH,qBAAqB,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBAC7G,KAAK,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;gBAC9D,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,OAAO,KAAK,CAAC;aAChB,CAAC;SACL,CAAC,CAAC,CAAC;QACJ,qBAAqB,eAAe,GAAG,UAAU,CAAC,IAAI,CAACS,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,EAAEC,4CAAc,CAAC,KAAK,CAAC,EAAEV,sBAAG,CAAC,UAAU,EAAE,EAAE;YACrK,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9B,OAAO,UAAU,KAAK,EAAE;gBACpB,qBAAqB,MAAM,qBAAqB,GAAG,CAAC,CAAC;gBACrD,qBAAqB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACnD,qBAAqB,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;gBAC5G,KAAK,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;gBAC1D,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,OAAO,KAAK,CAAC;aAChB,CAAC;SACL,CAAC,CAAC,CAAC;QACJ,qBAAqB,eAAe,GAAG,UAAU,CAAC,IAAI,CAACS,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,EAAET,sBAAG,CAAC,UAAU,GAAG,EAAE;YAC/I,OAAO,UAAU,KAAK,EAAE;gBACpB,qBAAqB,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBACxD,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;gBAC1C,KAAK,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACxC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,OAAO,KAAK,CAAC;aAChB,CAAC;SACL,CAAC,CAAC,CAAC;QACJ,qBAAqB,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC7D,qBAAqB,iBAAiB,GAAG,QAAQ,CAAC,IAAI,CAACS,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;QACtI,qBAAqB,qBAAqB,GAAG,QAAQ,CAAC,IAAI,CAACA,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,aAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAEC,4CAAc,CAAC,UAAU,CAAC,EAAEV,sBAAG,CAAC,UAAU,EAAE,EAAE;YAChL,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACnC,qBAAqB,QAAQ,qBAAqB,GAAG,CAAC,CAAC;YACvD,OAAO,IAAI,eAAe,CAAC,SAAS,CAAC,SAAS,KAAK,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,OAAO,SAAS,CAAC,UAAU,KAAK,QAAQ,IAAI,QAAQ,CAAC,QAAQ,GAAG,SAAS,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;SACtM,CAAC,CAAC,CAAC;QACJ,qBAAqB,sBAAsB,GAAG,QAAQ,CAAC,IAAI,CAACS,4BAAM,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,KAAK,aAAa,CAAC,SAAS,CAAC,EAAE,CAAC,EAAEC,4CAAc,CAAC,UAAU,CAAC,EAAEV,sBAAG,CAAC,UAAU,EAAE,EAAE;YAClL,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACnC,qBAAqB,SAAS,qBAAqB,GAAG,CAAC,CAAC;YACxD,OAAO,IAAI,eAAe,CAAC,SAAS,CAAC,SAAS,KAAK,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,OAAO,SAAS,CAAC,UAAU,KAAK,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,gBAAgB,CAAC,GAAG,SAAS,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;SACnP,CAAC,CAAC,CAAC;QACJ,qBAAqB,iBAAiB,GAAGJ,2BAAK,CAAC,iBAAiB,EAAE,qBAAqB,EAAE,sBAAsB,CAAC,CAAC,IAAI,CAACI,sBAAG,CAAC,UAAU,GAAG,EAAE;YACrI,OAAO,UAAU,KAAK,EAAE;gBACpB,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACxB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,OAAO,KAAK,CAAC;aAChB,CAAC;SACL,CAAC,CAAC,CAAC;QACJ,qBAAqB,QAAQ,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;;QAEvF,qBAAqB,KAAK,GAAGJ,2BAAK,CAAC,cAAc,EAAE,cAAc,EAAE,aAAa,EAAE,eAAe,EAAE,eAAe,EAAE,eAAe,EAAE,oBAAoB,EAAE,iBAAiB,CAAC;aACxK,IAAI,CAACe,wBAAI,CAAC,QAAQ,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAClG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAACF,4BAAM,CAAC,UAAU,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,YAAY,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,KAAK,EAAE;YACxI,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,YAAY,CAAC,aAAa,CAAC;YAChD,IAAI,KAAK,CAAC,YAAY,CAAC,SAAS,KAAK,SAAS,EAAE;gBAC5C,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;aACxB;iBACI;gBACD,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,SAAS,GAAG,KAAK,CAAC,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC;aAC3F;YACD,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;SAC7B,CAAC,CAAC,CAAC;;QAEJ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC;QACtC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC;QACtC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;KACpC,CAAC;;;;IAIF,sBAAsB,CAAC,SAAS,CAAC,WAAW;;;IAG5C,YAAY;QACR,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;KACpE,CAAC;IACF,sBAAsB,CAAC,UAAU,GAAG;QAChC,EAAE,IAAI,EAAEzB,uBAAS,EAAE,IAAI,EAAE,CAAC;oBACd,eAAe,EAAEC,qCAAuB,CAAC,MAAM;oBAC/C,QAAQ,EAAE,kBAAkB;oBAC5B,MAAM,EAAE,CAAC,qLAAqL,CAAC;oBAC/L,QAAQ,EAAE,uIAAuI;iBACpJ,EAAE,EAAE;KAChB,CAAC;;IAEF,sBAAsB,CAAC,cAAc,GAAG,YAAY,EAAE,OAAO;QACzD,EAAE,IAAI,EAAE2B,wBAAU,GAAG;QACrB,EAAE,IAAI,EAAE1B,+BAAiB,GAAG;QAC5B,EAAE,IAAI,EAAE2B,sCAAwB,GAAG;QACnC,EAAE,IAAI,EAAE,uBAAuB,GAAG;KACrC,CAAC,EAAE,CAAC;IACL,sBAAsB,CAAC,cAAc,GAAG;QACpC,cAAc,EAAE,CAAC,EAAE,IAAI,EAAEC,0BAAY,EAAE,IAAI,EAAE,CAACC,yBAAW,EAAE,EAAE,EAAE;QAC/D,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAE5B,uBAAS,EAAE,IAAI,EAAE,CAAC,SAAS,EAAE,EAAE,IAAI,EAAEC,8BAAgB,EAAE,EAAE,EAAE,EAAE;QACxF,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE4B,mBAAK,EAAE,EAAE;QAC5B,WAAW,EAAE,CAAC,EAAE,IAAI,EAAEA,mBAAK,EAAE,EAAE;QAC/B,UAAU,EAAE,CAAC,EAAE,IAAI,EAAEA,mBAAK,EAAE,EAAE;QAC9B,WAAW,EAAE,CAAC,EAAE,IAAI,EAAEA,mBAAK,EAAE,EAAE;QAC/B,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAEA,mBAAK,EAAE,EAAE;QACpC,cAAc,EAAE,CAAC,EAAE,IAAI,EAAEA,mBAAK,EAAE,EAAE;KACrC,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,EAAE,CAAC,CAAC,AACL,AACA,AA0CC,AACD;;AClbA;;;;AAIA,AACA,AACA,AACA,AACA,AACA,IAAI,mBAAmB,IAAI,YAAY;IACnC,SAAS,mBAAmB,GAAG;KAC9B;IACD,mBAAmB,CAAC,UAAU,GAAG;QAC7B,EAAE,IAAI,EAAEC,sBAAQ,EAAE,IAAI,EAAE,CAAC;oBACb,YAAY,EAAE,CAAC,mBAAmB,EAAE,sBAAsB,CAAC;oBAC3D,eAAe,EAAE,CAAC,mBAAmB,CAAC;oBACtC,OAAO,EAAE,CAAC,sBAAsB,CAAC;oBACjC,OAAO,EAAE,CAACC,4BAAY,CAAC;oBACvB,SAAS,EAAE,CAAC,uBAAuB,CAAC;iBACvC,EAAE,EAAE;KAChB,CAAC;;IAEF,mBAAmB,CAAC,cAAc,GAAG,YAAY,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IAChE,OAAO,mBAAmB,CAAC;CAC9B,EAAE,CAAC,CAAC,AACL,AACA,AAQC,AACD;;ACnCA;;;GAGG,AACH,AACA,AACA,AACA,AACA,AACA,AAAsF,AACtF,;;;;;;;;;;;;;;;;,;;,;;"}